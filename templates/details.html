{% extends "base.html" %}
{% block title %}{{title}}{% end %}
{% block body %}
    <h1>Коммиты репозитория {{repo.name}}</h1>
    <br/>
    {% if commits %}
        <table class="table">
          <thead>
              <tr><th>Автор</th><th>Дата создания</th><th>Сообщение</th></tr>
          </thead>
          {% for commit in commits %}
            <tr>
              <td>{{commit.author}}</td>
                <td>{{commit.date_added}}</td>
                <td>{{commit.message}}</td>
            </tr>
          {% end %}
        </table>
        <nav>
          <ul class="pager">
                <li {% if page == 1 %}class="disabled"{% end %}>
                    <a href="{% if page == 1 %}#{% else %}{{page - 1}}{% end %}"><-</a>
                </li>
                <span>Страница - {{page}}, выводим по {{per_page}}, всего {{total_records}}</span>
                <li {% if page == last_page %}class="disabled"{% end %}>
                    <a href="{% if page == last_page %}#{% else %}{{page + 1}}{% end %}">-></a>
                </li>
          </ul>
        </nav>
    {% else %}
            <p>записей нет</p>
    {% end %}
    {% if page >= last_page %}
        {% if repo.next_page %}
            <div align="center">
                <form method="POST" action="{{reverse_url('update', repo.id)}}">
                    <input class="btn btn-default" type="submit" value="Подгрузить еще 30 коммитов"/>
                </form>
            </div>
        {% end %}
    {% end %}
{% end %}}